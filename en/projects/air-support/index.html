<!doctype html><html dir=ltr lang=en data-theme class=html><head><title>Alexander Eble
|
Air Support</title><meta charset=utf-8><meta name=generator content="Hugo 0.83.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="
      Air Support researches air quality forecasting in office environments.


    "><link rel=stylesheet href=/scss/main.min.f4afef93fbc400d19415ddb4672cc557b04c1cf4654f5ecdd514342557d26c45.css integrity="sha256-9K/vk/vEANGUFd20ZyzFV7BMHPRlT17N1RQ0JVfSbEU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/spinner.min.41024142c72994774df4e670a2136bb29907814fd7732bdb51123fce08b8b4cf.css integrity="sha256-QQJBQscplHdN9OZwohNrspkHgU/XcyvbURI/zgi4tM8=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://www.alex-eble.de/en/projects/air-support/><script type=text/javascript src=/js/anatole-header.min.46e6a54097480084f8f52c20ca1aa7425b4fad17029a887fd4017b12e311a72d.js integrity="sha256-RualQJdIAIT49SwgyhqnQltPrRcCmoh/1AF7EuMRpy0=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.5557c8ff5617a01067ac258fd70b9b992506e379317b0da51e5e0f6e018b408a.js integrity="sha256-VVfI/1YXoBBnrCWP1wubmSUG43kxew2lHl4PbgGLQIo=" crossorigin=anonymous></script><script async defer src=https://alex-eble-umami.herokuapp.com/umami.js data-website-id=6a5b5251-b000-44c9-bb07-69ca1917a140></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.alex-eble.de/images/thumbnail.jpg"><meta name=twitter:title content="Air Support"><meta name=twitter:description content="Air Support researches air quality forecasting in office environments."><meta name=twitter:site content="@alexander_eble"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"projects","name":"Air Support","headline":"Air Support","alternativeHeadline":"","description":"
      Air Support researches air quality forecasting in office environments.


    ","inLanguage":"de","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.alex-eble.de\/en\/projects\/air-support\/"},"author":{"@type":"Person","name":"Alexander Eble"},"creator":{"@type":"Person","name":"Alexander Eble"},"accountablePerson":{"@type":"Person","name":"Alexander Eble"},"copyrightHolder":{"@type":"Person","name":"Alexander Eble"},"copyrightYear":"2021","dateCreated":"2021-12-15T00:00:00.00Z","datePublished":"2021-12-15T00:00:00.00Z","dateModified":"2021-12-15T00:00:00.00Z","publisher":{"@type":"Organization","name":"Alexander Eble","url":"https://www.alex-eble.de","logo":{"@type":"ImageObject","url":"https:\/\/www.alex-eble.de\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://www.alex-eble.de/images/thumbnail.jpg"],"url":"https:\/\/www.alex-eble.de\/en\/projects\/air-support\/","wordCount":"936","genre":["Data Science","Backend","Embedded","Cloud"],"keywords":["Python","Keras","C\u002b\u002b","PlatformIO","NodeJS","TypeScript","Docker","Terraform","Microsoft Azure"]}</script></head><body class="body theme--light"><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=https://static-alex-eble.mo.cloudinary.net/avatar.jpg alt="profile picture"><h1 class=sidebar__introduction-title><a href=/en>Alexander Eble</a></h1><div class=sidebar__introduction-description><p>Alexander Eble blogs about software engineering with JavaScript, his software projects and tech startups.</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://stackoverflow.com/users/9378384/alexander-eble rel=me aria-label="Stack Overflow" title="Stack Overflow"><i class="fab fa-stack-overflow fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/alexanderdavide rel=me aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://twitter.com/alexander_eble rel=me aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.xing.com/profile/Alexander_Eble2 rel=me aria-label=Xing title=Xing><i class="fab fa-xing fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.linkedin.com/in/alexander-eble/ rel=me aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=mailto:mail@alex-eble.de rel=me aria-label=e-mail title=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Alexander Eble
2022</li><li class=footer__item><a class=link href=/en/legal/ title>Legal</a></li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.fae9ac8895995fe91958b3954be11e96025824a04770726a3531e119ddd2d576.js integrity="sha256-+umsiJWZX+kZWLOVS+EelgJYJKBHcHJqNTHhGd3S1XY=" crossorigin=anonymous></script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span><span aria-hidden=true class=navbar-burger__line></span><span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/en/ title>Projects</a></li><li class=nav__list-item><a href=/en/cv/ title>Curriculum Vitae</a></li><li class=nav__list-item><a href=/en/contact/ title>Contact</a></li><li class=nav__list-item><a href=/en/about/ title>About</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=languageswitch><input class=languageswitch__picker type=checkbox id=languagepicker aria-label="switch language" hidden>
<label class=languageswitch__label for=languagepicker>EN <i class="fa fa-angle-down" aria-hidden=true></i></label><div class=languageswitch__triangle></div><ul class=languageswitch__list><li class=languageswitch__list-item><a href=/projects/air-support/ title=DE><span aria-label=DE>DE</span></a></li></ul></div></li><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>Air Support</h1><ul class=post__meta><li class=post__meta-item><em class="fas fa-calendar-day post__meta-icon"></em><span class=post__meta-text>12/15/2021</span></li><li class=post__meta-item><em class="fas fa-stopwatch post__meta-icon"></em><span class=post__meta-text>5-minute read</span></li></ul><p>Air Support explores the prediction of air quality in office environments and represents the practical part of my master&rsquo;s thesis.</p><h2 id=motivation>Motivation</h2><p>Poor indoor air quality (IAQ) is one of the greatest environmental health risks and also claims billions of dollars in financial losses due to non-fatal sequelae. The problem is that modern man spends 90% of his time indoors, where there are often high levels of pollutants in the indoor air.</p><p>Air Support therefore explores the following research question with the perspective of developing a digital assistant to support manual window ventilation:</p><blockquote><p>Is it possible to successfully predict indoor air quality parameters using data of a real use case in an office environment?</p></blockquote><h2 id=research-design-and-outcome>Research Design and Outcome</h2><p><em>The insights of this research are also available as an <a href=https://master.alex-eble.de>academic presentation</a>.</em></p><p>Air Support, inspected by <a href=https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining>CRISP</a> and <a href=https://www.researchgate.net/publication/346555135_Introducing_DASC-PM_A_Data_Science_Process_Model>DASC</a>, followed a five-step research design consisting of Business Understanding, Data Understanding, Data Preparation, Modeling, and Evaluation. According to the constructed business understanding, CO2 as well as PM (Particulate Matter) of the indoor environment are crucial parameters of indoor air quality of office environments and are made the target of prediction. Window opening, humidity, temperature, wind speed and wind direction were considered as other influencing factors. The parameters were measured with sensors and third-party APIs for the indoor and outdoor environment. To record the data, an IoT infrastructure was implemented in the office building of the cooperation partner <a href=https://www.artiso.com>artiso solutions GmbH</a>, which recorded 10 test rooms. A <a href=#architecture>cloud architecture</a> was used to process the data. Air Support collected 2,000,000 data points over the course of the project. Based on the data understanding, Data Preparation prepared a qualitative dataset. The following figure shows a snippet of the dataset.</p><figure><img src=/images/air-support/data-preparation.png alt="Dataset Snippet"><figcaption><p>Dataset Snippet</p></figcaption></figure><p>Modeling defined the absolute value of the target parameters in 20 minutes as the forecast period and identified Recurrent Neural Networks, <a href=https://en.wikipedia.org/wiki/Long_short-term_memory>Long Short-Term Memory</a> and <a href=https://en.wikipedia.org/wiki/Gated_recurrent_unit>Gated Recurrent Unit</a>, respectively, in combination with a Direct Multi Step strategy of forecasting as suitable approaches. These were tested with different combinations of those features that correlate most strongly with the target parameters: CO2 and Particulate Matter of the indoor and outdoor environment. The following table lists the architectures that were used during modeling.</p><figure><img src=/images/air-support/modeling-architectures.png alt="Modeling Architectures"><figcaption><p>Modeling Architectures</p></figcaption></figure><p>Although the errors are low, the developed models are rated negatively in the phase of evaluation. The forecasts are not effective predictions of the future, but delayed representations of real values. The delay in the forecasts could not be eliminated despite numerous experiments. The following figure contrasts a CO2 prediction and true values.</p><figure><img src=/images/air-support/evaluation.png alt="CO2 Prediction and True Values in Contrast"><figcaption><p>CO2 Prediction and True Values in Contrast</p></figcaption></figure><h2 id=key-data-of-the-project>Key Data of the Project</h2><ul><li>Start: 02/08/2021</li><li>End: 12/06/2021</li><li>Status: finished</li></ul><h2 id=technical-description>Technical Description</h2><h3 id=technologies-used>Technologies Used</h3><ul><li><code>C++</code>, <code>PlatformIO</code>: Programming of the microcontrollers</li><li><code>NodeJS (TypeScript)</code>: Development of the Azure Functions</li><li><code>Python</code>: Data Science</li><li>Data Science<ul><li><code>JupyterLab</code>: Data Science Notebooks</li><li><code>pandas</code>, <code>numpy</code>, <code>matplotlib</code>: Data Analysis</li><li><code>Keras</code>, <code>tensorflow</code>: Deep Learning</li></ul></li><li><code>Docker</code>: Development (VSCode devcontainer)</li><li>infrastructure<ul><li><code>Microsoft Azure</code>: Cloud infrastructure<ul><li>IoT Hub: Authentication and management of IoT devices</li><li>Service Bus: Decoupling of IoT Hub and downstream Azure Function</li><li>Functions: Event-Driven Serverless Compute<ul><li>Service Bus Trigger for processing sensor data</li><li>Timer Function to retrieve data from third-party APIs</li><li>HTTP Trigger for processing a Microsoft Teams Outgoing Webhook</li></ul></li><li><code>Key Vault</code>: Storage of Secrets</li><li>Database for PostgreSQL with TimescaleDB: Serverless Time Series Database</li></ul></li><li>alembic: Database Migrations with `SQLAlchemy</li><li>Terraform: Infrastructure As Code for managing Azure cloud infrastructure</li><li><code>Microsoft Teams</code>: Webhooks</li></ul></li></ul><h3 id=architecture>Architecture</h3><h4 id=application>Application</h4><figure><img src=/images/air-support/architecture.png alt="Air Support Architecture"><figcaption><p>Air Support Architecture</p></figcaption></figure><p>The IoT gateway acts as the central entry point of the IoT infrastructure to the cloud. It provides security for the connection of IoT devices and routes all data packets to a queue.</p><p>The queue between the IoT gateway and the IAQ Data & Notification Service decouples the ingress and processing of data. The queue is capable of holding messages for longer periods of time, which enables sequential and asynchronous processing. In addition to lower performance requirements, the advantage is that temporary consumer failures are mitigated. Messages remain in the queue for as long as this is the case.</p><p>The IAQ Data Service is responsible for storing the sensor data in the database. If the IAQ Data Service is available and there is a new message in the queue, the contained measured values are saved to the database.</p><p>IAQ Notification Service and IAQ Request Service provide assistance functions in Microsoft Teams. The two services are integrated into channels via webhooks and can publish messages in them. The IAQ Notification Service is a heuristic assistant that alerts room occupants to problematic air quality based on threshold values. The IAQ Request Service offers the possibility to retrieve the current values of all rooms ad-hoc via chat function in Microsoft Teams.</p><h4 id=data-model>Data Model</h4><figure><img src=/images/air-support/data-structure.png alt="Air Support Data Model"><figcaption><p>Air Support Data Model</p></figcaption></figure><p>The data structure consists of 4 fundamental entities:</p><ul><li>Measurement contains data of all possibly measured parameters. The omittable attributes, marked with NULL, provide the necessary flexibility to create only those attributes that a specific sensor module provides.</li><li>Location is the place of a measurement. This can be a test room or the outdoor area. Through the simple association to Measurement, a measurement can be traced back to a location. Location also has multiple associations to DataSource to install multiple data sources in one location.</li><li>DataSource is a source of sensor data. It can be a sensor module or a third party API. A DataSource can be associated with unlimited Measurements. This means that a measurement can also be traced back to a sensor module and can be uniquely located.</li><li>Notification is used to coordinate the sending of notifications to a Location and must not be misunderstood as an explicit notification. There is a simple association between Notification and Location.</li></ul></div><div class=post__footer><span><a class=category href=/en/categories/data-science/>Data Science</a><a class=category href=/en/categories/backend/>Backend</a><a class=category href=/en/categories/embedded/>Embedded</a><a class=category href=/en/categories/cloud/>Cloud</a></span>
<span><a class=tag href=/en/tags/python/>Python</a><a class=tag href=/en/tags/keras/>Keras</a><a class=tag href=/en/tags/c++/>C++</a><a class=tag href=/en/tags/platformio/>PlatformIO</a><a class=tag href=/en/tags/nodejs/>NodeJS</a><a class=tag href=/en/tags/typescript/>TypeScript</a><a class=tag href=/en/tags/docker/>Docker</a><a class=tag href=/en/tags/terraform/>Terraform</a><a class=tag href=/en/tags/microsoft-azure/>Microsoft Azure</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Alexander Eble
2022</li><li class=footer__item><a class=link href=/en/legal/ title>Legal</a></li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.fae9ac8895995fe91958b3954be11e96025824a04770726a3531e119ddd2d576.js integrity="sha256-+umsiJWZX+kZWLOVS+EelgJYJKBHcHJqNTHhGd3S1XY=" crossorigin=anonymous></script></body></html>