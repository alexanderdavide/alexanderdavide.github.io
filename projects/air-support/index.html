<!doctype html><html dir=ltr lang=de data-theme class=html><head><title>Alexander Eble
|
Air Support</title><meta charset=utf-8><meta name=generator content="Hugo 0.83.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="
      Air Support erforscht die Prognose der Luftqualität in Büroumgebungen.


    "><link rel=stylesheet href=/scss/main.min.f4afef93fbc400d19415ddb4672cc557b04c1cf4654f5ecdd514342557d26c45.css integrity="sha256-9K/vk/vEANGUFd20ZyzFV7BMHPRlT17N1RQ0JVfSbEU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/spinner.min.41024142c72994774df4e670a2136bb29907814fd7732bdb51123fce08b8b4cf.css integrity="sha256-QQJBQscplHdN9OZwohNrspkHgU/XcyvbURI/zgi4tM8=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://www.alex-eble.de/projects/air-support/><script type=text/javascript src=/js/anatole-header.min.46e6a54097480084f8f52c20ca1aa7425b4fad17029a887fd4017b12e311a72d.js integrity="sha256-RualQJdIAIT49SwgyhqnQltPrRcCmoh/1AF7EuMRpy0=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.5557c8ff5617a01067ac258fd70b9b992506e379317b0da51e5e0f6e018b408a.js integrity="sha256-VVfI/1YXoBBnrCWP1wubmSUG43kxew2lHl4PbgGLQIo=" crossorigin=anonymous></script><script async defer src=https://alex-eble-umami.herokuapp.com/umami.js data-website-id=6a5b5251-b000-44c9-bb07-69ca1917a140></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.alex-eble.de/images/twitter-cards-thumbnail.jpg"><meta name=twitter:title content="Air Support"><meta name=twitter:description content="Air Support erforscht die Prognose der Luftqualität in Büroumgebungen."><meta name=twitter:site content="@alexander_eble"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"projects","name":"Air Support","headline":"Air Support","alternativeHeadline":"","description":"
      Air Support erforscht die Prognose der Luftqualität in Büroumgebungen.


    ","inLanguage":"de","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.alex-eble.de\/projects\/air-support\/"},"author":{"@type":"Person","name":"Alexander Eble"},"creator":{"@type":"Person","name":"Alexander Eble"},"accountablePerson":{"@type":"Person","name":"Alexander Eble"},"copyrightHolder":{"@type":"Person","name":"Alexander Eble"},"copyrightYear":"2021","dateCreated":"2021-12-15T00:00:00.00Z","datePublished":"2021-12-15T00:00:00.00Z","dateModified":"2021-12-15T00:00:00.00Z","publisher":{"@type":"Organization","name":"Alexander Eble","url":"https://www.alex-eble.de","logo":{"@type":"ImageObject","url":"https:\/\/www.alex-eble.de\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://www.alex-eble.de/images/twitter-cards-thumbnail.jpg"],"url":"https:\/\/www.alex-eble.de\/projects\/air-support\/","wordCount":"849","genre":["Data Science","Backend","Embedded","Cloud"],"keywords":["Python","Keras","C\u002b\u002b","PlatformIO","NodeJS","TypeScript","Docker","Terraform","Microsoft Azure"]}</script></head><body class="body theme--light"><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=https://static-alex-eble.mo.cloudinary.net/avatar.jpg alt="profile picture"><h1 class=sidebar__introduction-title><a href=/>Alexander Eble</a></h1><div class=sidebar__introduction-description><p>Blog über Software Engineering mit JavaScript und Tech Startups.</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://stackoverflow.com/users/9378384/alexander-eble rel=me aria-label="Stack Overflow" title="Stack Overflow"><i class="fab fa-stack-overflow fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/alexanderdavide rel=me aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://twitter.com/alexander_eble rel=me aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.xing.com/profile/Alexander_Eble2 rel=me aria-label=Xing title=Xing><i class="fab fa-xing fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.linkedin.com/in/alexander-eble/ rel=me aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=mailto:mail@alex-eble.de rel=me aria-label=e-mail title=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Alexander Eble
2022</li><li class=footer__item><a class=link href=/legal/ title>Impressum</a></li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.fae9ac8895995fe91958b3954be11e96025824a04770726a3531e119ddd2d576.js integrity="sha256-+umsiJWZX+kZWLOVS+EelgJYJKBHcHJqNTHhGd3S1XY=" crossorigin=anonymous></script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span><span aria-hidden=true class=navbar-burger__line></span><span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Projekte</a></li><li class=nav__list-item><a href=/cv/ title>Lebenslauf</a></li><li class=nav__list-item><a href=/contact/ title>Kontakt</a></li><li class=nav__list-item><a href=/about/ title>About</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=languageswitch><input class=languageswitch__picker type=checkbox id=languagepicker aria-label="switch language" hidden>
<label class=languageswitch__label for=languagepicker>DE <i class="fa fa-angle-down" aria-hidden=true></i></label><div class=languageswitch__triangle></div><ul class=languageswitch__list><li class=languageswitch__list-item><a href=/en/projects/air-support/ title=EN><span aria-label=EN>EN</span></a></li></ul></div></li><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>Air Support</h1><ul class=post__meta><li class=post__meta-item><em class="fas fa-calendar-day post__meta-icon"></em><span class=post__meta-text>15.12.2021</span></li><li class=post__meta-item><em class="fas fa-stopwatch post__meta-icon"></em><span class=post__meta-text>4 Minuten zum Lesen</span></li></ul><p>Air Support erforscht die Prognose der Luftqualität in Büroumgebungen und stellt den praktischen Teil meiner Masterthesis dar.</p><h2 id=motivation>Motivation</h2><p>Schlechte Innenraumluftqualität (IAQ) zählt zu den größten umweltbedingten Gesundheitsrisiken und fordert ebenfalls durch nicht tödliche Folgeerscheinungen finanzielle Einbußen in Milliardenhöhe. Problematisch ist, dass sich der moderne Mensch zu 90 % seiner Zeit in Innenräumen aufhält, wo oft hohe Schadstoffbelastungen der Raumluft vorliegen.</p><p>Air Support geht daher folgender Forschungsfrage mit der Perspektive der Entwicklung einer digitalen Assistenz zur Unterstützung der manuellen Fensterlüftung nach:</p><blockquote><p>Können Parameter der Luftqualität in Innenräumen auf der Grundlage von Daten eines realen Anwendungsfalls einer gewöhnlichen Büroumgebung erfolgreich prognostiziert werden?</p></blockquote><h2 id=forschungsdesign-und-ergebnis>Forschungsdesign und Ergebnis</h2><p><em>Die Erkenntnisse dieser Forschung sind ebenfalls als <a href=https://master.alex-eble.de>akademische Präsentation</a> verfügbar.</em></p><p>Air Support verfolgte, inspriert von <a href=https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining>CRISP</a> und <a href=https://www.researchgate.net/publication/346555135_Introducing_DASC-PM_A_Data_Science_Process_Model>DASC</a>, ein fünfschrittiges Forschungsdesign, bestehend aus Business Understanding, Data Understanding, Data Preparation, Modeling und Evaluation. Gemäß des aufgebauten Business Understandings sind CO2 sowie PM (Particulate Matter) des Innenraums entscheidende Parameter der Raumluftqualität von Büroumgebungen und werden zum Ziel der Prognose gemacht. Als weitere Einflussfaktoren wurden die Fensteröffnung, Luftfeuchtigkeit, Temperatur, Windgeschwindigkeit und Windrichtung berücksichtigt. Die Parameter wurden über Sensoren und Third-Party-APIs für den Innen- und Außenraums gemessen. Zur Aufzeichnung der Daten wurde eine IoT-Infrastruktur im Bürogebäude des Kooperationspartners <a href=https://www.artiso.com>artiso solutions GmbH</a> realisiert, die 10 Versuchsräume erfasste. Eine <a href=#architektur>Cloud-Architektur</a> kam zur Verarbeitung der Daten zum Einsatz. Air Support sammelte im Laufe des Projekts 2.000.000 Datenpunkte. Auf Grundlage des Data Understandings bereitete die Data Preparation ein qualitatives Dataset auf. Die nachfolgende Abbildung zeigt einen Auszug des Air Support Datasets.</p><figure><img src=/images/air-support/data-preparation.png alt="Auszug des Datasets"><figcaption><p>Auszug des Datasets</p></figcaption></figure><p>Das Modeling definierte den absoluten Wert der Zielparameter in 20 Minuten als Prognosezeitraum und identifizierte Recurrent Neural Networks, <a href=https://en.wikipedia.org/wiki/Long_short-term_memory>Long Short-Term Memory</a> beziehungsweise <a href=https://en.wikipedia.org/wiki/Gated_recurrent_unit>Gated Recurrent Unit</a>, in Kombination mit einer Direct Multi Step Strategie der Prognose als geeignete Ansätze. Diese wurden mit allen Kombinationen jener Features erprobt, die am stärksten mit den Zielparametern korrelieren: CO2 und Particulate Matter des Innen- und Außenraums. Die folgende Tabelle listet die Architekturen, die während des Modelings verwendet wurden.</p><figure><img src=/images/air-support/modeling-architectures.png alt="Architekturen des Modelings"><figcaption><p>Architekturen des Modelings</p></figcaption></figure><p>Obwohl die absoluten Fehler niedrig sind, werden die entwickelten Models in der Phase der Evaluation negativ bewertet. Die Prognosen stellen keine effektiven Vorhersagen der Zukunft dar, sondern verzögerte Repräsentationen der realen Werte. Die Verzögerung der Prognosen konnte trotz zahlreicher Experimente nicht behoben werden. Die nachfolgende Abbildung stellt eine CO2 Prognose und tatsächliche Werte gegenüber.</p><figure><img src=/images/air-support/evaluation.png alt="CO2 Prognose und tatsächliche Werte in Gegenüberstellung"><figcaption><p>CO2 Prognose und tatsächliche Werte in Gegenüberstellung</p></figcaption></figure><h2 id=eckdaten-des-projekts>Eckdaten des Projekts</h2><ul><li>Start: 08.02.2021</li><li>Ende: 06.12.2021</li><li>Status: beendet</li></ul><h2 id=technische-beschreibung>Technische Beschreibung</h2><h3 id=verwendete-technologien>Verwendete Technologien</h3><ul><li><code>C++</code>, <code>PlatformIO</code>: Programmierung der Mikrocontroller</li><li><code>NodeJS (TypeScript)</code>: Entwicklung der Azure Functions</li><li><code>Python</code>: Data Science</li><li>Data Science<ul><li><code>JupyterLab</code>: Data Science Notebooks</li><li><code>pandas</code>, <code>numpy</code>, <code>matplotlib</code>: Data Analysis</li><li><code>Keras</code>, <code>tensorflow</code>: Deep Learning</li></ul></li><li><code>Docker</code>: Development (VSCode devcontainer)</li><li>Infrastruktur<ul><li><code>Microsoft Azure</code>: Cloud-Infrastruktur<ul><li><code>IoT-Hub</code>: Authentifizierung und Management der IoT-Devices</li><li><code>Service Bus</code>: Entkopplung von IoT-Hub und nachgeschalteter Azure Function</li><li><code>Functions</code>: Event-Driven Serverless Compute<ul><li>Service Bus Trigger zur Verarbeitung der Sensordaten</li><li>Timer Function zum Abruf von Daten aus Third-Party APIs</li><li>HTTP Trigger zur Verarbeitung einer Microsoft Teams Outgoing Webhook</li></ul></li><li><code>Key Vault</code>: Speicherung von Secrets</li><li><code>Database for PostgreSQL mit TimescaleDB</code>: Serverless Time Series Database</li></ul></li><li><code>alembic</code>: Database Migrations mit <code>SQLAlchemy</code></li><li><code>Terraform</code>: Infrastructure As Code zur Verwaltung der Azure Cloud-Infrastruktur</li><li><code>Microsoft Teams</code>: Webhooks</li></ul></li></ul><h3 id=architektur>Architektur</h3><h4 id=applikation>Applikation</h4><figure><img src=/images/air-support/architecture.png alt="Air Support Architektur"><figcaption><p>Air Support Architektur</p></figcaption></figure><p>Der IoT-Gateway fungiert als zentraler Einstiegspunkt der IoT-Infrastruktur in die Cloud. Er sorgt für Sicherheit bei der Anbindung von IoT-Geräten und routet alle Datenpakete an eine Queue.</p><p>Die Queue zwischen IoT-Gateway und dem IAQ Data & Notification Service entkoppelt den Eingang und die Verarbeitung der Daten. Die Queue ist in der Lage, Messages für längere Zeit vorzuhalten, was zu sequenzieller und asynchroner Bearbeitung befähigt. Neben geringerer Anforderungen an die Performance ist vorteilhaft, dass temporäre Ausfälle des Konsumenten entschärft werden. Messages verbleiben solange in der Queue.</p><p>Der IAQ Data Service verantwortet die Speicherung der Sensordaten in die Datenbank. Ist der IAQ Data Service verfügbar und es befindet sich eine neue Message in der Queue, wird die Speicherung der enthaltenen Messwerte in die Datenbank vorgenommen.</p><p>IAQ Notification Service und IAQ Request Service stellen Assistenzfunktionen in Microsoft Teams zur Verfügung. Die beiden Dienste sind über Webhooks in Channels integriert und können darin Nachrichten publizieren. Der IAQ Notification Service ist ein heuristischer Assistent, der Raumnutzende auf Grundlage von Schwellwerten auf problematische Luftqualität hinweist. Der IAQ Request Service bietet die Möglichkeit, per Chatfunktion in Microsoft Teams die aktuellen Werte aller Räume ad-hoc abzurufen.</p><h4 id=datenmodell>Datenmodell</h4><figure><img src=/images/air-support/data-structure.png alt="Air Support Datenmodell"><figcaption><p>Air Support Datenmodell</p></figcaption></figure><p>Die Datenstruktur besteht aus 4 fundamentalen Entitäten:</p><ul><li>Measurement enthält Daten aller messbaren Parameter. Die auslassbaren Attribute, mit NULL gekennzeichnet, gewähren die notwendige Flexbilität, nur die Attribute anzulegen, die ein spezifisches Sensormodul bereitstellt.</li><li>Location ist der Ort einer Messung. Dieser kann ein Versuchsraum oder der Außenbereich sein. Durch die einfache Assoziation zu Measurement kann eine Messung auf einen Ort zurückgeführt werden. Location besitzt außerdem multiple Assoziationen zu DataSource, um mehrere Datenquellen an einem Ort zu installieren.</li><li>DataSource ist eine Quelle von Sensordaten. Sie kann sowohl ein Sensormodul als auch eine Third-Party-API sein. Eine DataSource kann mit unlimitierten Measurements assoziiert sein. Damit kann eine Messung auch auf ein Sensormodul zurückgeführt werden und ist eindeutig lokalisierbar.</li><li>Notification dient der Koordination des Versands von Benachrichtigungen an eine Location und darf nicht als explizite Benachrichtigung missverstanden werden. Zwischen Notification und Location gibt es eine einfache Assoziation.</li></ul></div><div class=post__footer><span><a class=category href=/categories/data-science/>Data Science</a><a class=category href=/categories/backend/>Backend</a><a class=category href=/categories/embedded/>Embedded</a><a class=category href=/categories/cloud/>Cloud</a></span>
<span><a class=tag href=/tags/python/>Python</a><a class=tag href=/tags/keras/>Keras</a><a class=tag href=/tags/c++/>C++</a><a class=tag href=/tags/platformio/>PlatformIO</a><a class=tag href=/tags/nodejs/>NodeJS</a><a class=tag href=/tags/typescript/>TypeScript</a><a class=tag href=/tags/docker/>Docker</a><a class=tag href=/tags/terraform/>Terraform</a><a class=tag href=/tags/microsoft-azure/>Microsoft Azure</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Alexander Eble
2022</li><li class=footer__item><a class=link href=/legal/ title>Impressum</a></li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.fae9ac8895995fe91958b3954be11e96025824a04770726a3531e119ddd2d576.js integrity="sha256-+umsiJWZX+kZWLOVS+EelgJYJKBHcHJqNTHhGd3S1XY=" crossorigin=anonymous></script></body></html>